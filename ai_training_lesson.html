<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI í•™ìŠµì‹œí‚¤ê¸° - AIëŠ” ì–´ë–»ê²Œ ê²°ì •ì„ ë‚´ë¦´ê¹Œ?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.2em;
        }

        .instruction-box {
            background: #f0f4ff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .instruction-box h2 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .training-area {
            background: #f9fafb;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #e5e7eb;
        }

        .category-section {
            margin-bottom: 25px;
        }

        .category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .category-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
        }

        .count-badge {
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }

        .drawing-canvas {
            width: 100%;
            height: 200px;
            border: 3px dashed #cbd5e1;
            border-radius: 10px;
            background: white;
            cursor: crosshair;
            margin-bottom: 10px;
        }

        .canvas-active {
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e5e7eb;
            color: #333;
        }

        .btn-secondary:hover {
            background: #d1d5db;
        }

        .btn-success {
            background: #10b981;
            color: white;
        }

        .btn-success:hover {
            background: #059669;
        }

        .btn-danger {
            background: #ef4444;
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
        }

        .test-area {
            background: #f0fdf4;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #bbf7d0;
        }

        .test-canvas {
            width: 100%;
            height: 300px;
            border: 3px solid #10b981;
            border-radius: 10px;
            background: white;
            cursor: crosshair;
            margin-bottom: 15px;
        }

        .result-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            min-height: 100px;
            border: 2px solid #e5e7eb;
        }

        .result-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .prediction {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            text-align: center;
            padding: 20px;
        }

        .confidence {
            text-align: center;
            color: #666;
            font-size: 1.1em;
        }

        .sample-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .sample-item {
            width: 60px;
            height: 60px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            background: white;
        }

        .stats-section {
            background: #fef3c7;
            padding: 20px;
            border-radius: 15px;
            margin-top: 30px;
            border-left: 5px solid #f59e0b;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .stat-box {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #666;
            margin-top: 5px;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e5e7eb;
            border-radius: 15px;
            overflow: hidden;
            margin-top: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .emoji-display {
            font-size: 3em;
            text-align: center;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8em;
            }
        }

        .tip-box {
            background: #dbeafe;
            border-left: 5px solid #3b82f6;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .tip-box strong {
            color: #1e40af;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¤– AI í•™ìŠµì‹œí‚¤ê¸°</h1>
            <p class="subtitle">AIëŠ” ì–´ë–»ê²Œ ê²°ì •ì„ ë‚´ë¦´ê¹Œ?</p>
        </div>

        <div class="instruction-box">
            <h2>ğŸ“š í•™ìŠµ ëª©í‘œ</h2>
            <p>ì´ ìˆ˜ì—…ì—ì„œëŠ” AIê°€ ë°ì´í„°ë¡œë¶€í„° ì–´ë–»ê²Œ í•™ìŠµí•˜ëŠ”ì§€ ì§ì ‘ ì²´í—˜í•´ë´…ë‹ˆë‹¤. ë‘ ê°€ì§€ ë‹¤ë¥¸ ë„í˜•ì„ ê·¸ë ¤ì„œ AIë¥¼ í•™ìŠµì‹œí‚¤ê³ , AIê°€ ìƒˆë¡œìš´ ê·¸ë¦¼ì„ ì˜¬ë°”ë¥´ê²Œ ë¶„ë¥˜í•  ìˆ˜ ìˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!</p>
            
            <div class="tip-box">
                <strong>ğŸ’¡ íŒ:</strong> AIê°€ ë” ì •í™•í•˜ê²Œ í•™ìŠµí•˜ë ¤ë©´ ê° ì¹´í…Œê³ ë¦¬ë§ˆë‹¤ ìµœì†Œ 5ê°œ ì´ìƒì˜ ë‹¤ì–‘í•œ ì˜ˆì‹œê°€ í•„ìš”í•´ìš”!
            </div>
        </div>

        <div class="main-content">
            <!-- í•™ìŠµ ì˜ì—­ -->
            <div class="training-area">
                <h2 style="margin-bottom: 20px; color: #667eea;">ğŸ¨ 1ë‹¨ê³„: AI í•™ìŠµì‹œí‚¤ê¸°</h2>
                
                <!-- ì¹´í…Œê³ ë¦¬ A -->
                <div class="category-section">
                    <div class="category-header">
                        <span class="category-title">â– ì¹´í…Œê³ ë¦¬ A (ê°€ë¡œì„ )</span>
                        <span class="count-badge" id="countA">0ê°œ</span>
                    </div>
                    <canvas id="canvasA" class="drawing-canvas"></canvas>
                    <div class="button-group">
                        <button class="btn-primary" onclick="addTrainingSample('A')">âœ“ í•™ìŠµ ì¶”ê°€</button>
                        <button class="btn-secondary" onclick="clearCanvas('canvasA')">ğŸ—‘ï¸ ì§€ìš°ê¸°</button>
                    </div>
                    <div class="sample-grid" id="samplesA"></div>
                </div>

                <!-- ì¹´í…Œê³ ë¦¬ B -->
                <div class="category-section">
                    <div class="category-header">
                        <span class="category-title">| ì¹´í…Œê³ ë¦¬ B (ì„¸ë¡œì„ )</span>
                        <span class="count-badge" id="countB">0ê°œ</span>
                    </div>
                    <canvas id="canvasB" class="drawing-canvas"></canvas>
                    <div class="button-group">
                        <button class="btn-primary" onclick="addTrainingSample('B')">âœ“ í•™ìŠµ ì¶”ê°€</button>
                        <button class="btn-secondary" onclick="clearCanvas('canvasB')">ğŸ—‘ï¸ ì§€ìš°ê¸°</button>
                    </div>
                    <div class="sample-grid" id="samplesB"></div>
                </div>

                <button class="btn-success" onclick="trainModel()" style="width: 100%; margin-top: 20px; font-size: 1.2em;">
                    ğŸš€ AI í•™ìŠµ ì‹œì‘í•˜ê¸°
                </button>
                
                <button class="btn-danger" onclick="resetTraining()" style="width: 100%; margin-top: 10px; font-size: 1.1em;">
                    ğŸ”„ í•™ìŠµ ë°ì´í„° ì´ˆê¸°í™”
                </button>
            </div>

            <!-- í…ŒìŠ¤íŠ¸ ì˜ì—­ -->
            <div class="test-area">
                <h2 style="margin-bottom: 20px; color: #10b981;">ğŸ§ª 2ë‹¨ê³„: AI í…ŒìŠ¤íŠ¸í•˜ê¸°</h2>
                <p style="margin-bottom: 15px; color: #666;">í•™ìŠµí•œ AIê°€ ìƒˆë¡œìš´ ê·¸ë¦¼ì„ ì–´ë–»ê²Œ ë¶„ë¥˜í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ì„¸ìš”!</p>
                
                <canvas id="testCanvas" class="test-canvas"></canvas>
                
                <div class="button-group">
                    <button class="btn-success" onclick="predictDrawing()">ğŸ” AI ì˜ˆì¸¡í•˜ê¸°</button>
                    <button class="btn-secondary" onclick="clearCanvas('testCanvas')">ğŸ—‘ï¸ ì§€ìš°ê¸°</button>
                </div>

                <div class="result-box" id="resultBox">
                    <div class="result-title">ì˜ˆì¸¡ ê²°ê³¼</div>
                    <div id="predictionResult" style="color: #999; text-align: center; padding: 30px;">
                        ë¨¼ì € AIë¥¼ í•™ìŠµì‹œí‚¨ í›„, ì—¬ê¸°ì— ê·¸ë¦¼ì„ ê·¸ë ¤ë³´ì„¸ìš”!
                    </div>
                </div>
            </div>
        </div>

        <!-- í†µê³„ ì„¹ì…˜ -->
        <div class="stats-section">
            <h2 style="color: #f59e0b; margin-bottom: 10px;">ğŸ“Š í•™ìŠµ í†µê³„</h2>
            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-number" id="totalSamples">0</div>
                    <div class="stat-label">ì´ í•™ìŠµ ë°ì´í„°</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="totalPredictions">0</div>
                    <div class="stat-label">ì˜ˆì¸¡ íšŸìˆ˜</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="modelAccuracy">0%</div>
                    <div class="stat-label">ëª¨ë¸ ì¤€ë¹„ë„</div>
                </div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%;">
                    <span id="progressText">0%</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let trainingData = { A: [], B: [] };
        let isModelTrained = false;
        let predictionCount = 0;
        let currentDrawing = { canvas: null, ctx: null };

        // ìº”ë²„ìŠ¤ ì´ˆê¸°í™”
        function initCanvas(canvasId) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            let isDrawing = false;
            let lastX = 0;
            let lastY = 0;

            canvas.addEventListener('mousedown', (e) => {
                isDrawing = true;
                const rect = canvas.getBoundingClientRect();
                lastX = e.clientX - rect.left;
                lastY = e.clientY - rect.top;
                canvas.classList.add('canvas-active');
            });

            canvas.addEventListener('mousemove', (e) => {
                if (!isDrawing) return;
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 3;
                ctx.lineCap = 'round';
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(x, y);
                ctx.stroke();
                
                lastX = x;
                lastY = y;
            });

            canvas.addEventListener('mouseup', () => {
                isDrawing = false;
                canvas.classList.remove('canvas-active');
            });

            canvas.addEventListener('mouseleave', () => {
                isDrawing = false;
                canvas.classList.remove('canvas-active');
            });

            // í„°ì¹˜ ì´ë²¤íŠ¸ ì§€ì›
            canvas.addEventListener('touchstart', (e) => {
                e.preventDefault();
                isDrawing = true;
                const rect = canvas.getBoundingClientRect();
                const touch = e.touches[0];
                lastX = touch.clientX - rect.left;
                lastY = touch.clientY - rect.top;
                canvas.classList.add('canvas-active');
            });

            canvas.addEventListener('touchmove', (e) => {
                e.preventDefault();
                if (!isDrawing) return;
                const rect = canvas.getBoundingClientRect();
                const touch = e.touches[0];
                const x = touch.clientX - rect.left;
                const y = touch.clientY - rect.top;
                
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 3;
                ctx.lineCap = 'round';
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(x, y);
                ctx.stroke();
                
                lastX = x;
                lastY = y;
            });

            canvas.addEventListener('touchend', () => {
                isDrawing = false;
                canvas.classList.remove('canvas-active');
            });
        }

        // ìº”ë²„ìŠ¤ ì§€ìš°ê¸°
        function clearCanvas(canvasId) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        // í•™ìŠµ ìƒ˜í”Œ ì¶”ê°€
        function addTrainingSample(category) {
            const canvasId = 'canvas' + category;
            const canvas = document.getElementById(canvasId);
            const imageData = canvas.toDataURL();
            
            // ë¹ˆ ìº”ë²„ìŠ¤ ì²´í¬
            const ctx = canvas.getContext('2d');
            const pixelData = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
            let hasDrawing = false;
            for (let i = 3; i < pixelData.length; i += 4) {
                if (pixelData[i] > 0) {
                    hasDrawing = true;
                    break;
                }
            }
            
            if (!hasDrawing) {
                alert('ë¨¼ì € ê·¸ë¦¼ì„ ê·¸ë ¤ì£¼ì„¸ìš”!');
                return;
            }

            trainingData[category].push(imageData);
            
            // ìƒ˜í”Œ ì¸ë„¤ì¼ í‘œì‹œ
            const samplesDiv = document.getElementById('samples' + category);
            const img = document.createElement('img');
            img.src = imageData;
            img.className = 'sample-item';
            samplesDiv.appendChild(img);
            
            // ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
            document.getElementById('count' + category).textContent = trainingData[category].length + 'ê°œ';
            
            // ìº”ë²„ìŠ¤ ì§€ìš°ê¸°
            clearCanvas(canvasId);
            
            // í†µê³„ ì—…ë°ì´íŠ¸
            updateStats();
            
            // í”¼ë“œë°±
            showFeedback('âœ“ í•™ìŠµ ë°ì´í„°ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
        }

        // ëª¨ë¸ í•™ìŠµ
        function trainModel() {
            const totalA = trainingData.A.length;
            const totalB = trainingData.B.length;
            
            if (totalA < 3 || totalB < 3) {
                alert('ê° ì¹´í…Œê³ ë¦¬ë§ˆë‹¤ ìµœì†Œ 3ê°œ ì´ìƒì˜ í•™ìŠµ ë°ì´í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤!\n\ní˜„ì¬ ìƒíƒœ:\nâ– ì¹´í…Œê³ ë¦¬ A: ' + totalA + 'ê°œ\n| ì¹´í…Œê³ ë¦¬ B: ' + totalB + 'ê°œ');
                return;
            }
            
            // í•™ìŠµ ì‹œë®¬ë ˆì´ì…˜
            isModelTrained = true;
            showFeedback('ğŸ‰ AI í•™ìŠµì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì´ì œ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!', 'success');
            updateStats();
        }

        // í•™ìŠµ ë°ì´í„° ì´ˆê¸°í™”
        function resetTraining() {
            if (confirm('ëª¨ë“  í•™ìŠµ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')) {
                // í•™ìŠµ ë°ì´í„° ì´ˆê¸°í™”
                trainingData.A = [];
                trainingData.B = [];
                
                // ëª¨ë¸ ìƒíƒœ ì´ˆê¸°í™”
                isModelTrained = false;
                
                // ì˜ˆì¸¡ íšŸìˆ˜ ì´ˆê¸°í™”
                predictionCount = 0;
                
                // ìƒ˜í”Œ ì´ë¯¸ì§€ ì™„ì „íˆ ì´ˆê¸°í™”
                const samplesA = document.getElementById('samplesA');
                const samplesB = document.getElementById('samplesB');
                
                if (samplesA) {
                    while (samplesA.firstChild) {
                        samplesA.removeChild(samplesA.firstChild);
                    }
                }
                
                if (samplesB) {
                    while (samplesB.firstChild) {
                        samplesB.removeChild(samplesB.firstChild);
                    }
                }
                
                // ì¹´ìš´íŠ¸ ì´ˆê¸°í™”
                document.getElementById('countA').textContent = '0ê°œ';
                document.getElementById('countB').textContent = '0ê°œ';
                
                // ìº”ë²„ìŠ¤ ì´ˆê¸°í™”
                clearCanvas('canvasA');
                clearCanvas('canvasB');
                clearCanvas('testCanvas');
                
                // ì˜ˆì¸¡ ê²°ê³¼ ì´ˆê¸°í™”
                document.getElementById('predictionResult').innerHTML = '<div style="color: #999; text-align: center; padding: 30px;">ë¨¼ì € AIë¥¼ í•™ìŠµì‹œí‚¨ í›„, ì—¬ê¸°ì— ê·¸ë¦¼ì„ ê·¸ë ¤ë³´ì„¸ìš”!</div>';
                
                // í†µê³„ ì™„ì „íˆ ì´ˆê¸°í™”
                document.getElementById('totalSamples').textContent = '0';
                document.getElementById('totalPredictions').textContent = '0';
                document.getElementById('modelAccuracy').textContent = '0%';
                document.getElementById('progressBar').style.width = '0%';
                document.getElementById('progressText').textContent = '0%';
                
                showFeedback('âœ“ ëª¨ë“  í•™ìŠµ ë°ì´í„°ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            }
        }

        // ì˜ˆì¸¡ ìˆ˜í–‰
        function predictDrawing() {
            if (!isModelTrained) {
                alert('ë¨¼ì € AIë¥¼ í•™ìŠµì‹œì¼œì£¼ì„¸ìš”!');
                return;
            }
            
            const canvas = document.getElementById('testCanvas');
            const ctx = canvas.getContext('2d');
            
            // ë¹ˆ ìº”ë²„ìŠ¤ ì²´í¬
            const pixelData = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
            let hasDrawing = false;
            for (let i = 3; i < pixelData.length; i += 4) {
                if (pixelData[i] > 0) {
                    hasDrawing = true;
                    break;
                }
            }
            
            if (!hasDrawing) {
                alert('ë¨¼ì € ê·¸ë¦¼ì„ ê·¸ë ¤ì£¼ì„¸ìš”!');
                return;
            }
            
            // ê°„ë‹¨í•œ ë¶„ë¥˜ ë¡œì§ (ì‹¤ì œë¡œëŠ” ë” ë³µì¡í•œ ML ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©)
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const prediction = classifyImage(imageData);
            
            predictionCount++;
            
            // ê²°ê³¼ í‘œì‹œ
            displayPrediction(prediction);
            updateStats();
        }

        // ì´ë¯¸ì§€ ë¶„ë¥˜ (ë‹¨ìˆœí™”ëœ ë²„ì „)
        function classifyImage(imageData) {
            // ê°€ë¡œì„  vs ì„¸ë¡œì„  êµ¬ë¶„
            const data = imageData.data;
            let horizontalPixels = 0;
            let verticalPixels = 0;
            
            const width = imageData.width;
            const height = imageData.height;
            
            // ê° í–‰ê³¼ ì—´ì˜ í”½ì…€ ìˆ˜ ê³„ì‚°
            const rowCounts = new Array(height).fill(0);
            const colCounts = new Array(width).fill(0);
            
            for (let i = 0; i < data.length; i += 4) {
                if (data[i + 3] > 0) { // ì•ŒíŒŒ ì±„ë„ í™•ì¸ (ê·¸ë ¤ì§„ í”½ì…€)
                    const pixelIndex = i / 4;
                    const x = pixelIndex % width;
                    const y = Math.floor(pixelIndex / width);
                    
                    rowCounts[y]++;
                    colCounts[x]++;
                }
            }
            
            // ê°€ë¡œ ì§‘ì¤‘ë„ ê³„ì‚° (ì¤‘ê°„ í–‰ë“¤ì— í”½ì…€ì´ ë§ìœ¼ë©´ ê°€ë¡œì„ )
            const midHeight = Math.floor(height / 2);
            for (let y = midHeight - 30; y < midHeight + 30 && y < height; y++) {
                if (y >= 0) horizontalPixels += rowCounts[y];
            }
            
            // ì„¸ë¡œ ì§‘ì¤‘ë„ ê³„ì‚° (ì¤‘ê°„ ì—´ë“¤ì— í”½ì…€ì´ ë§ìœ¼ë©´ ì„¸ë¡œì„ )
            const midWidth = Math.floor(width / 2);
            for (let x = midWidth - 30; x < midWidth + 30 && x < width; x++) {
                if (x >= 0) verticalPixels += colCounts[x];
            }
            
            // ë¶„ë¥˜ ê²°ì •
            const isHorizontal = horizontalPixels > verticalPixels;
            const confidence = Math.min(95, Math.max(75, Math.abs(horizontalPixels - verticalPixels) / 10 + 70));
            const category = isHorizontal ? 'A' : 'B';
            
            return {
                category: category,
                confidence: Math.round(confidence),
                categoryName: category === 'A' ? 'â– ê°€ë¡œì„ ' : '| ì„¸ë¡œì„ '
            };
        }

        // ì˜ˆì¸¡ ê²°ê³¼ í‘œì‹œ
        function displayPrediction(prediction) {
            const resultDiv = document.getElementById('predictionResult');
            resultDiv.innerHTML = `
                <div class="emoji-display">${prediction.category === 'A' ? 'â–' : '|'}</div>
                <div class="prediction">${prediction.categoryName}</div>
                <div class="confidence">ì‹ ë¢°ë„: ${prediction.confidence}%</div>
            `;
        }

        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats() {
            const totalSamples = trainingData.A.length + trainingData.B.length;
            document.getElementById('totalSamples').textContent = totalSamples;
            document.getElementById('totalPredictions').textContent = predictionCount;
            
            let accuracy = 0;
            if (totalSamples >= 6) {
                accuracy = Math.min(100, Math.round((totalSamples / 10) * 100));
            }
            document.getElementById('modelAccuracy').textContent = accuracy + '%';
            
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            progressBar.style.width = accuracy + '%';
            progressText.textContent = accuracy + '%';
        }

        // í”¼ë“œë°± í‘œì‹œ
        function showFeedback(message, type) {
            // ê°„ë‹¨í•œ ì•Œë¦¼ (ì‹¤ì œë¡œëŠ” ë” ë‚˜ì€ UI ì‚¬ìš© ê°€ëŠ¥)
            const feedback = document.createElement('div');
            feedback.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : '#ef4444'};
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                z-index: 1000;
                animation: slideIn 0.3s ease-out;
            `;
            feedback.textContent = message;
            document.body.appendChild(feedback);
            
            setTimeout(() => {
                feedback.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => feedback.remove(), 300);
            }, 3000);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìº”ë²„ìŠ¤ ì´ˆê¸°í™”
        window.addEventListener('load', () => {
            initCanvas('canvasA');
            initCanvas('canvasB');
            initCanvas('testCanvas');
            updateStats();
        });

        // ì• ë‹ˆë©”ì´ì…˜ ì •ì˜
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(400px); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(400px); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>